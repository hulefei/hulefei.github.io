!function(a){function b(b,d){var i=b[h],j=i&&e[i];if(void 0===d)return j||c(b);if(j){if(d in j)return j[d];var k=g(d);if(k in j)return j[k]}return f.call(a(b),d)}function c(b,c,f){var i=b[h]||(b[h]=++a.uuid),j=e[i]||(e[i]=d(b));return void 0!==c&&(j[g(c)]=f),j}function d(b){var c={};return a.each(b.attributes||i,function(b,d){0==d.name.indexOf("data-")&&(c[g(d.name.replace("data-",""))]=a.zepto.deserializeValue(d.value))}),c}var e={},f=a.fn.data,g=a.camelCase,h=a.expando="Zepto"+ +new Date,i=[];a.fn.data=function(d,e){return void 0===e?a.isPlainObject(d)?this.each(function(b,e){a.each(d,function(a,b){c(e,a,b)})}):0 in this?b(this[0],d):void 0:this.each(function(){c(this,d,e)})},a.fn.removeData=function(b){return"string"==typeof b&&(b=b.split(/\s+/)),this.each(function(){var c=this[h],d=c&&e[c];d&&a.each(b||d,function(a){delete d[b?g(this):a]})})},["remove","empty"].forEach(function(b){var c=a.fn[b];a.fn[b]=function(){var a=this.find("*");return"remove"===b&&(a=a.add(this)),a.removeData(),c.call(this)}})}(Zepto),function(a){var b=new Object;b.cookie=function(a,b,c){if("undefined"==typeof b){var d=null;if(document.cookie&&""!=document.cookie)for(var e=document.cookie.split(";"),f=0;f<e.length;f++){var g=e[f].replace(/^\s*(.*?)\s*$/,"$1");if(g.substring(0,a.length+1)==a+"="){d=decodeURIComponent(g.substring(a.length+1));break}}return d}c=c||{},null===b&&(b="",c.expires=-1);var h="";if(c.expires&&("number"==typeof c.expires||c.expires.toUTCString)){var i;"number"==typeof c.expires?(i=new Date,i.setTime(i.getTime()+1e3*c.expires)):i=c.expires,h="; expires="+i.toUTCString()}var j=c.path?"; path="+c.path:"",k=c.domain?"; domain="+c.domain:"",l=c.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(b),h,j,k,l].join("")},b.getACSRFToken=function(){var a=b.cookie("skey");if("undefined"!=typeof a&&a||(a=""),""==a){var c=b.cookie("lskey");"undefined"!=typeof c&&c||(c=""),a=c}for(var d=5381,e=0,f=a.length;f>e;++e)d+=(d<<5&2147483647)+a.charAt(e).charCodeAt();return 2147483647&d},b.setACSRFToken=function(){"undefined"!=typeof a&&(a.ajaxSettings=a.extend(a.ajaxSettings,{beforeSend:function(a,c){var d=b.getACSRFToken(),e=c.url;return"get"==c.type.toLowerCase()?c.url+=e.indexOf("?")>0?e.indexOf("g_tk=")<0?"&g_tk="+d:"":"?g_tk="+d:c.data?"string"==typeof c.data&&(c.data+=c.data.indexOf("g_tk=")<0?"&g_tk="+d:""):(c.data="g_tk="+d,c.url+=e.indexOf("?")>0?e.indexOf("g_tk=")<0?"&g_tk="+d:"":"?g_tk="+d),c}}))},b.setACSRFToken()}(window.Zepto),!function(){function a(a){return a.replace(t,"").replace(u,",").replace(v,"").replace(w,"").replace(x,"").split(y)}function b(a){return"'"+a.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function c(c,d){function e(a){return m+=a.split(/\n/).length-1,k&&(a=a.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")),a&&(a=s[1]+b(a)+s[2]+"\n"),a}function f(b){var c=m;if(j?b=j(b,d):g&&(b=b.replace(/\n/g,function(){return m++,"$line="+m+";"})),0===b.indexOf("=")){var e=l&&!/^=[=#]/.test(b);if(b=b.replace(/^=[=#]?|[\s;]*$/g,""),e){var f=b.replace(/\s*\([^\)]+\)/,"");n[f]||/^(include|print)$/.test(f)||(b="$escape("+b+")")}else b="$string("+b+")";b=s[1]+b+s[2]}return g&&(b="$line="+c+";"+b),r(a(b),function(a){if(a&&!p[a]){var b;b="print"===a?u:"include"===a?v:n[a]?"$utils."+a:o[a]?"$helpers."+a:"$data."+a,w+=a+"="+b+",",p[a]=!0}}),b+"\n"}var g=d.debug,h=d.openTag,i=d.closeTag,j=d.parser,k=d.compress,l=d.escape,m=1,p={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},q="".trim,s=q?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],t=q?"$out+=text;return $out;":"$out.push(text);",u="function(){var text=''.concat.apply('',arguments);"+t+"}",v="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+t+"}",w="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(g?"$line=0,":""),x=s[0],y="return new String("+s[3]+");";r(c.split(h),function(a){a=a.split(i);var b=a[0],c=a[1];1===a.length?x+=e(b):(x+=f(b),c&&(x+=e(c)))});var z=w+x+y;g&&(z="try{"+z+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+b(c)+".split(/\\n/)[$line-1].replace(/^\\s+/,'')};}");try{var A=new Function("$data","$filename",z);return A.prototype=n,A}catch(B){throw B.temp="function anonymous($data,$filename) {"+z+"}",B}}var d=function(a,b){return"string"==typeof b?q(b,{filename:a}):g(a,b)};d.version="3.0.0",d.config=function(a,b){e[a]=b};var e=d.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},f=d.cache={};d.render=function(a,b){return q(a,b)};var g=d.renderFile=function(a,b){var c=d.get(a)||p({filename:a,name:"Render Error",message:"Template not found"});return b?c(b):c};d.get=function(a){var b;if(f[a])b=f[a];else if("object"==typeof document){var c=document.getElementById(a);if(c){var d=(c.value||c.innerHTML).replace(/^\s*|\s*$/g,"");b=q(d,{filename:a})}}return b};var h=function(a,b){return"string"!=typeof a&&(b=typeof a,"number"===b?a+="":a="function"===b?h(a.call(a)):""),a},i={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},j=function(a){return i[a]},k=function(a){return h(a).replace(/&(?![\w#]+;)|[<>"']/g,j)},l=Array.isArray||function(a){return"[object Array]"==={}.toString.call(a)},m=function(a,b){var c,d;if(l(a))for(c=0,d=a.length;d>c;c++)b.call(a,a[c],c,a);else for(c in a)b.call(a,a[c],c)},n=d.utils={$helpers:{},$include:g,$string:h,$escape:k,$each:m};d.helper=function(a,b){o[a]=b};var o=d.helpers=n.$helpers;d.onerror=function(a){var b="Template Error\n\n";for(var c in a)b+="<"+c+">\n"+a[c]+"\n\n";"object"==typeof console&&console.error(b)};var p=function(a){return d.onerror(a),function(){return"{Template Error}"}},q=d.compile=function(a,b){function d(c){try{return new i(c,h)+""}catch(d){return b.debug?p(d)():(b.debug=!0,q(a,b)(c))}}b=b||{};for(var g in e)void 0===b[g]&&(b[g]=e[g]);var h=b.filename;try{var i=c(a,b)}catch(j){return j.filename=h||"anonymous",j.name="Syntax Error",p(j)}return d.prototype=i.prototype,d.toString=function(){return i.toString()},h&&b.cache&&(f[h]=d),d},r=n.$each,s="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",t=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,u=/[^\w$]+/g,v=new RegExp(["\\b"+s.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),w=/^\d[^,]*|,\d[^,]*/g,x=/^,+|,+$/g,y=/^$|,+/;e.openTag="{{",e.closeTag="}}";var z=function(a,b){var c=b.split(":"),d=c.shift(),e=c.join(":")||"";return e&&(e=", "+e),"$helpers."+d+"("+a+e+")"};e.parser=function(a){a=a.replace(/^\s/,"");var b=a.split(" "),c=b.shift(),e=b.join(" ");switch(c){case"if":a="if("+e+"){";break;case"else":b="if"===b.shift()?" if("+b.join(" ")+")":"",a="}else"+b+"{";break;case"/if":a="}";break;case"each":var f=b[0]||"$data",g=b[1]||"as",h=b[2]||"$value",i=b[3]||"$index",j=h+","+i;"as"!==g&&(f="[]"),a="$each("+f+",function("+j+"){";break;case"/each":a="});";break;case"echo":a="print("+e+");";break;case"print":case"include":a=c+"("+b.join(",")+");";break;default:if(/^\s*\|\s*[\w\$]/.test(e)){var k=!0;0===a.indexOf("#")&&(a=a.substr(1),k=!1);for(var l=0,m=a.split("|"),n=m.length,o=m[l++];n>l;l++)o=z(o,m[l]);a=(k?"=":"=#")+o}else a=d.helpers[c]?"=#"+c+"("+b.join(",")+");":"="+a}return a},"function"==typeof define?define(function(){return d}):"undefined"!=typeof exports?module.exports=d:this.template=d}(),!function(a){function b(a){var b=new d(this,a);return b.init(),b}var c="smart",d=function(a,b){this.obj=a,this.haveLoading=!1,this.callback=b};d.prototype={init:function(){var b=this;a(window).scroll(function(){var d=a(document).height()-a(window).height(),e=document.documentElement.scrollTop+document.body.scrollTop;e!=d||b.haveLoading||(b.haveLoading=!0,a(b.obj).append('<div class="'+c+'-asynclist">加载中...</div>'),b.callback())})},success:function(){a("."+c+"-asynclist").remove(),this.haveLoading=!1,this.init()},finish:function(){a("."+c+"-asynclist").remove(),this.haveLoading=!0,a(this.obj).append('<div class="'+c+'-asynclist">没有更多了</div>')}},a.fn.asynclist=b}(window.Zepto),!function(a){function b(a){var b,c,d,e,f,g,h=a.split(" ")[0],i=a.split(" ")[1];b=h.split("-")[0],c=h.split("-")[1]-1,d=h.split("-")[2],e=i.split(":")[0],f=i.split(":")[1],g=i.split(":")[2];var j=new Date(b,c,d,e,f,g);return j}function c(a,c,d){var f=new e;f.build(this,b(a),c,d)}var d="smart-countdown",e=function(){};e.prototype={build:function(a,b,c,d){var e=this,f=new Date,g=b-f-c,h=this.timeFormat(parseInt(g/1e3/60/60/24)),i=this.timeFormat(parseInt(g/1e3/60/60%24)),j=this.timeFormat(parseInt(g/1e3/60%60)),k=this.timeFormat(parseInt(g/1e3%60));this.render(a,h,i,j,k),"00"==h&&"00"==i&&"00"==j&&"00"==k?d():setTimeout(function(){e.build(a,b,c,d)},1e3)},render:function(b,c,e,f,g){a(b).find("."+d+"-day").text(c),a(b).find("."+d+"-hour").text(e),a(b).find("."+d+"-minute").text(f),a(b).find("."+d+"-second").text(g)},timeFormat:function(a){return 0>a?a="00":10>a&&(a="0"+a),a}},a.fn.countdown=c}(window.Zepto),function(a){function b(b,c){function d(a,b,c){if(a.stopPropagation(),a.preventDefault(),!W&&!i(b)&&!b.hasClass("dwa")){W=!0;var d=b.find(".dw-ul");m(d),clearInterval(fa),fa=setInterval(function(){c(d)},ma.delay),c(d)}}function i(b){if(a.isArray(ma.readonly)){var c=a(".dwwl",L).index(b);return ma.readonly[c]}return ma.readonly}function l(b){var c='<div class="dw-bf">',d=ra[b],e=d.values?d:h(d),f=1,g=e.labels||[],i=e.values,j=e.keys||i;return a.each(i,function(a,b){f%20==0&&(c+='</div><div class="dw-bf">'),c+='<div role="option" aria-selected="false" class="dw-li dw-v" data-val="'+j[a]+'"'+(g[a]?' aria-label="'+g[a]+'"':"")+' style="height:'+J+"px;line-height:"+J+'px;"><div class="dw-i">'+b+"</div></div>",f++}),c+="</div>"}function m(b){ba=a(".dw-li",b).index(a(".dw-v",b).eq(0)),ca=a(".dw-li",b).index(a(".dw-v",b).eq(-1)),ea=a(".dw-ul",L).index(b)}function n(a){var b=ma.headerText;return b?"function"==typeof b?b.call(ka,a):b.replace(/\{value\}/i,a):""}function q(){ia.temp=sa&&null!==ia.val&&ia.val!=la.val()||null===ia.values?ma.parseValue(la.val()||"",ia):ia.values.slice(0),H()}function z(b){var c,d,e=window.getComputedStyle?getComputedStyle(b[0]):b[0].style;return r?(a.each(["t","webkitT","MozT","OT","msT"],function(a,b){return void 0!==e[b+"ransform"]?(c=e[b+"ransform"],!1):void 0}),c=c.split(")")[0].split(", "),d=c[13]||c[5]):d=e.top.replace("px",""),Math.round(I-d/J)}function A(a,b){clearTimeout(oa[b]),delete oa[b],a.closest(".dwwl").removeClass("dwa")}function B(a,b,c,d,e){var f=(I-c)*J,g=a[0].style;f==qa[b]&&oa[b]||(d&&f!=qa[b]&&D("onAnimStart",[L,b,d]),qa[b]=f,g[t+"Transition"]="all "+(d?d.toFixed(3):0)+"s ease-out",r?g[t+"Transform"]="translate3d(0,"+f+"px,0)":g.top=f+"px",oa[b]&&A(a,b),d&&e&&(a.closest(".dwwl").addClass("dwa"),oa[b]=setTimeout(function(){A(a,b)},1e3*d)),pa[b]=c)}function C(b,c,d,e,f){D("validate",[L,c,b])!==!1&&(a(".dw-ul",L).each(function(d){var g=a(this),h=a('.dw-li[data-val="'+ia.temp[d]+'"]',g),i=a(".dw-li",g),j=i.index(h),k=i.length,l=d==c||void 0===c;if(!h.hasClass("dw-v")){for(var m=h,n=h,o=0,p=0;j-o>=0&&!m.hasClass("dw-v");)o++,m=i.eq(j-o);for(;k>j+p&&!n.hasClass("dw-v");)p++,n=i.eq(j+p);(o>p&&p&&2!==e||!o||0>j-o||1==e)&&n.hasClass("dw-v")?(h=n,j+=p):(h=m,j-=o)}(!h.hasClass("dw-sel")||l)&&(ia.temp[d]=h.attr("data-val"),a(".dw-sel",g).removeClass("dw-sel"),ma.multiple||(a(".dw-sel",g).removeAttr("aria-selected"),h.attr("aria-selected","true")),h.addClass("dw-sel"),B(g,d,j,l?b:.1,l?f:!1))}),K=ma.formatResult(ia.temp),"inline"==ma.display?H(d,0,!0):a(".dwv",L).html(n(K)),d&&D("onChange",[K]))}function D(b,d){var e;return d.push(ia),a.each([U.defaults,na,c],function(a,c){c[b]&&(e=c[b].apply(ka,d))}),e}function E(b,c,d,e,f){c=g(c,ba,ca);var h=a(".dw-li",b).eq(c),i=void 0===f?c:f,j=ea,k=e?c==i?.1:Math.abs((c-i)*ma.timeUnit):0;ia.temp[j]=h.attr("data-val"),B(b,j,c,k,f),setTimeout(function(){C(k,j,!0,d,void 0!==f)},10)}function F(a){var b=pa[ea]+1;E(a,b>ca?ba:b,1,!0)}function G(a){var b=pa[ea]-1;E(a,ba>b?ca:b,2,!0)}function H(a,b,c,d){ta&&!c&&C(b),K=ma.formatResult(ia.temp),d||(ia.values=ia.temp.slice(0),ia.val=K),a&&sa&&la.val(K).trigger("change")}var I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia=this,ja=a.mobiscroll,ka=b,la=a(ka),ma=u({},y),na={},oa={},pa={},qa={},ra=[],sa=la.is("input"),ta=!1,ua=function(b){!e(b)||j||i(this)||W||(b.preventDefault(),j=!0,X="clickpick"!=ma.mode,da=a(".dw-ul",this),m(da),Y=void 0!==oa[ea],aa=Y?z(da):pa[ea],Z=f(b,"Y"),$=new Date,_=Z,B(da,ea,aa,.001),X&&da.closest(".dwwl").addClass("dwa"),a(document).on(w,va).on(x,wa))},va=function(a){X&&(a.preventDefault(),a.stopPropagation(),_=f(a,"Y"),B(da,ea,g(aa+(Z-_)/J,ba-1,ca+1))),Y=!0},wa=function(b){var c,d,e,f=new Date-$,h=g(aa+(Z-_)/J,ba-1,ca+1),i=da.offset().top;if(300>f?(c=(_-Z)/f,d=c*c/ma.speedUnit,0>_-Z&&(d=-d)):d=_-Z,e=Math.round(aa-d/J),!d&&!Y){var k=Math.floor((_-i)/J),l=a(".dw-li",da).eq(k),m=X;D("onValueTap",[l])!==!1?e=k:m=!0,m&&(l.addClass("dw-hl"),setTimeout(function(){l.removeClass("dw-hl")},200))}X&&E(da,e,0,!0,Math.round(h)),j=!1,da=null,a(document).off(w,va).off(x,wa)},xa=function(b){var c=a(this);a(document).on(x,ya),c.hasClass("dwb-d")||c.addClass("dwb-a"),setTimeout(function(){c.blur()},10),c.hasClass("dwwb")&&e(b)&&d(b,c.closest(".dwwl"),c.hasClass("dwwbp")?F:G)},ya=function(b){W&&(clearInterval(fa),W=!1),a(document).off(x,ya),a(".dwb-a",L).removeClass("dwb-a")},za=function(b){38==b.keyCode?d(b,a(this),G):40==b.keyCode&&d(b,a(this),F)},Aa=function(a){W&&(clearInterval(fa),W=!1)},Ba=function(b){if(!i(this)){b.preventDefault(),b=b.originalEvent||b;var c=b.wheelDelta?b.wheelDelta/120:b.detail?-b.detail/3:0,d=a(".dw-ul",this);m(d),E(d,Math.round(pa[ea]-c),0>c?1:2)}};ia.position=function(b){if(!("inline"==ma.display||M===a(window).width()&&O===a(window).height()&&b||D("onPosition",[L])===!1)){var c,d,e,f,h,i,j,k,l,m,n,o,p=0,q=0,r=a(window).scrollTop(),s=a(".dwwr",L),t=a(".dw",L),u={},v=void 0===ma.anchor?la:ma.anchor;if(M=a(window).width(),O=a(window).height(),N=window.innerHeight,N=N||O,/modal|bubble/.test(ma.display)&&(a(".dwc",L).each(function(){c=a(this).width(),p+=c,q=c>q?c:q}),c=p>M?q:p,s.width(c).css("white-space",p>M?"":"nowrap")),P=t.width(),Q=t.height(),R=N>=Q&&M>=P,"modal"==ma.display)d=(M-P)/2,e=r+(N-Q)/2;else if("bubble"==ma.display)o=!0,l=a(".dw-arrw-i",L),i=v.offset(),j=i.top,k=i.left,f=v.width(),h=v.height(),d=k-(t.width()-f)/2,d=d>M-P?M-(P+20):d,d=d>=0?d:20,e=j-Q,r>e||j>r+N?(t.removeClass("dw-bubble-top").addClass("dw-bubble-bottom"),e=j+h):t.removeClass("dw-bubble-bottom").addClass("dw-bubble-top"),m=l.width(),n=k+f/2-(d+(P-m)/2),a(".dw-arr",L).css({left:g(n,0,m)});else if(u.width="100%","top"==ma.display)e=r;else if("bottom"==ma.display){var w=a("html").css("zoom");e=(r+N-Q*w)/w}u.top=0>e?0:e,u.left=d,t.css(u),a(".dw-persp",L).height(0).height(e+Q>a(document).height()?e+Q:a(document).height()),o&&(e+Q>r+N||j>r+N)&&a(window).scrollTop(e+Q-N)}},ia.enable=function(){ma.disabled=!1,sa&&la.prop("disabled",!1)},ia.disable=function(){ma.disabled=!0,sa&&la.prop("disabled",!0)},ia.setValue=function(b,c,d,e){ia.temp=a.isArray(b)?b.slice(0):ma.parseValue.call(ka,b+"",ia),H(c,d,!1,e)},ia.getValue=function(){return ia.values},ia.getValues=function(){var a,b=[];for(a in ia._selectedValues)b.push(ia._selectedValues[a]);return b},ia.changeWheel=function(b,c){if(L){var d=0,e=b.length;a.each(ma.wheels,function(f,g){return a.each(g,function(f,g){return a.inArray(d,b)>-1&&(ra[d]=g,a(".dw-ul",L).eq(d).html(l(d)),e--,!e)?(ia.position(),C(c,void 0,!0),!1):void d++}),e?void 0:!1})}},ia.isVisible=function(){return ta},ia.tap=function(a,b){var c,d;ma.tap&&a.on("touchstart.dw",function(a){a.preventDefault(),c=f(a,"X"),d=f(a,"Y")}).on("touchend.dw",function(a){Math.abs(f(a,"X")-c)<20&&Math.abs(f(a,"Y")-d)<20&&b.call(this,a),k=!0,setTimeout(function(){k=!1},300)}),a.on("click.dw",function(a){k||b.call(this,a)})},ia.show=function(b){if(ma.disabled||ta)return!1;"top"==ma.display&&(S="slidedown"),"bottom"==ma.display&&(S="slideup"),q(),D("onBeforeShow",[]);var c,d=0,e="";S&&!b&&(e="dw-"+S+" dw-in");var f='<div class="smart-datepicker '+ma.theme+" dw-"+ma.display+(s?" dw"+s:"")+' ">'+("inline"==ma.display?'<div class="dw dwbg dwi"><div class="dwwr">':'<div class="dw-persp"><div class="dwo"></div><div class="dw dwbg '+e+'"><div class="dw-arrw"><div class="dw-arrw-i"><div class="dw-arr"></div></div></div><div class="dwwr"><div aria-live="assertive" class="dwv'+(ma.headerText?"":" dw-hidden")+'"></div>')+'<div class="dwcc">';a.each(ma.wheels,function(b,e){f+='<div class="dwc'+("scroller"!=ma.mode?" dwpm":" dwsc")+(ma.showLabel?"":" dwhl")+'"><div class="dwwc dwrc"><table cellpadding="0" cellspacing="0"><tr>',a.each(e,function(a,b){ra[d]=b,c=void 0!==b.label?b.label:a,f+='<td><div class="dwwl dwrc dwwl'+d+'">'+("scroller"!=ma.mode?'<div class="dwb-e dwwb dwwbp" style="height:'+J+"px;line-height:"+J+'px;"><span>+</span></div><div class="dwb-e dwwb dwwbm" style="height:'+J+"px;line-height:"+J+'px;"><span>&ndash;</span></div>':"")+'<div class="dwl">'+c+'</div><div tabindex="0" aria-live="off" aria-label="'+c+'" role="listbox" class="dwww"><div class="dww" style="height:'+ma.rows*J+"px;min-width:"+ma.width+'px;"><div class="dw-ul">',f+=l(d),f+='</div><div class="dwwol"></div></div><div class="dwwo"></div></div><div class="dwwol"></div></div></td>',d++}),f+="</tr></table></div></div>"}),f+="</div>"+("inline"!=ma.display?'<div class="dwbc'+(ma.button3?" dwbc-p":"")+'"><span class="dwbw dwb-s"><span class="dwb dwb-e" role="button" tabindex="0">'+ma.setText+"</span></span>"+(ma.button3?'<span class="dwbw dwb-n"><span class="dwb dwb-e" role="button" tabindex="0">'+ma.button3Text+"</span></span>":"")+'<span class="dwbw dwb-c"><span class="dwb dwb-e" role="button" tabindex="0">'+ma.cancelText+"</span></span></div></div>":"")+"</div></div></div>",L=a(f),C(),D("onMarkupReady",[L]),"inline"!=ma.display?(L.appendTo("body"),S&&!b&&(L.addClass("dw-trans"),setTimeout(function(){L.removeClass("dw-trans").find(".dw").removeClass(e)},350))):la.is("div")?la.html(L):L.insertAfter(la),D("onMarkupInserted",[L]),ta=!0,U.init(L,ia),"inline"!=ma.display&&(ia.tap(a(".dwb-s span",L),function(){ia.select()}),ia.tap(a(".dwb-c span",L),function(){ia.cancel()}),ma.button3&&ia.tap(a(".dwb-n span",L),ma.button3),a(window).on("keydown.dw",function(a){13==a.keyCode?ia.select():27==a.keyCode&&ia.cancel()}),ma.scrollLock&&L.on("touchmove touchstart",function(a){R&&a.preventDefault()}),a("input,select,button").each(function(){this.disabled||(a(this).attr("autocomplete")&&a(this).data("autocomplete",a(this).attr("autocomplete")),a(this).addClass("dwtd").prop("disabled",!0).attr("autocomplete","off"))}),ia.position(),a(window).on("orientationchange.dw resize.dw scroll.dw",function(a){clearTimeout(T),T=setTimeout(function(){var b="scroll"==a.type;(b&&R||!b)&&ia.position(!b)},100)})),a(".dwwl",L).on("DOMMouseScroll mousewheel",Ba).on(v,ua).on("keydown",za).on("keyup",Aa),L.on(v,".dwb-e",xa).on("keydown",".dwb-e",function(b){32==b.keyCode&&(b.preventDefault(),b.stopPropagation(),a(this).click())}),D("onShow",[L,K])},ia.hide=function(b,c){return ta&&D("onClose",[K,c])!==!1?(a(".dwtd").each(function(){a(this).prop("disabled",!1).removeClass("dwtd"),a(this).data("autocomplete")?a(this).attr("autocomplete",a(this).data("autocomplete")):a(this).removeAttr("autocomplete")}),L&&("inline"!=ma.display&&S&&!b?(L.addClass("dw-trans").find(".dw").addClass("dw-"+S+" dw-out"),setTimeout(function(){L.remove(),L=null},350)):(L.remove(),L=null),a(window).off(".dw")),qa={},ta=!1,ha=!0,void la.focus()):!1},ia.select=function(){ia.hide(!1,"set")!==!1&&(H(!0,0,!0),D("onSelect",[ia.val]))},ia.cancel=function(){ia.hide(!1,"cancel")!==!1&&D("onCancel",[ia.val])},ia.init=function(a){U=u({defaults:{},init:p},ja.themes[a.theme||ma.theme]),V=ja.i18n[a.lang||ma.lang],u(c,a),u(ma,U.defaults,V,c),ia.settings=ma,la.off(".dw");var b=ja.presets[ma.preset];b&&(na=b.call(ka,ia),u(ma,na,c)),I=Math.floor(ma.rows/2),J=ma.height,S=ma.animate,ta&&ia.hide(),"inline"==ma.display?ia.show():(q(),sa&&(void 0===ga&&(ga=ka.readOnly),ka.readOnly=!0,ma.showOnFocus&&la.on("focus.dw",function(){ha||ia.show(),ha=!1})),ma.showOnTap&&ia.tap(la,function(){ia.show()}))},ia.trigger=function(a,b){return D(a,b)},ia.option=function(a,b){var c={};"object"==typeof a?c=a:c[a]=b,ia.init(c)},ia.destroy=function(){ia.hide(),la.off(".dw"),delete o[ka.id],sa&&(ka.readOnly=ga)},ia.getInst=function(){return ia},ia.values=null,ia.val=null,ia.temp=null,ia._selectedValues={},ia.init(c)}function c(a){var b;for(b in a)if(void 0!==q[a[b]])return!0;return!1}function d(){var a,b=["Webkit","Moz","O","ms"];for(a in b)if(c([b[a]+"Transform"]))return"-"+b[a].toLowerCase();return""}function e(a){if("touchstart"===a.type)l=!0;else if(l)return l=!1,!1;return!0}function f(a,b){var c=a.originalEvent,d=a.changedTouches;return d||c&&c.changedTouches?c?c.changedTouches[0]["page"+b]:d[0]["page"+b]:a["page"+b]}function g(a,b,c){return Math.max(b,Math.min(a,c))}function h(b){var c={values:[],keys:[]};return a.each(b,function(a,b){c.keys.push(a),c.values.push(b)}),c}function i(a,c,d){var e=a;return"object"==typeof c?a.each(function(){this.id||(n+=1,this.id="mobiscroll"+n),o[this.id]=new b(this,c)}):("string"==typeof c&&a.each(function(){var a,b=o[this.id];return b&&b[c]&&(a=b[c].apply(this,Array.prototype.slice.call(d,1)),void 0!==a)?(e=a,!1):void 0}),e)}var j,k,l,m=new Date,n=m.getTime(),o={},p=function(){},q=document.createElement("modernizr").style,r=c(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]),s=d(),t=s.replace(/^\-/,"").replace("moz","Moz"),u=a.extend,v="touchstart mousedown",w="touchmove mousemove",x="touchend mouseup",y={width:70,height:40,rows:3,delay:300,disabled:!1,readonly:!1,showOnFocus:!0,showOnTap:!0,showLabel:!0,wheels:[],theme:"",headerText:"{value}",display:"modal",mode:"scroller",preset:"",lang:"en-US",setText:"Set",cancelText:"Cancel",ariaDesc:"Select a value",scrollLock:!0,tap:!0,speedUnit:.0012,timeUnit:.1,formatResult:function(a){return a.join(" ")},parseValue:function(b,c){var d,e=b.split(" "),f=[],g=0;return a.each(c.settings.wheels,function(b,c){a.each(c,function(b,c){c=c.values?c:h(c),d=c.keys||c.values,-1!==a.inArray(e[g],d)?f.push(e[g]):f.push(d[0]),g++})}),f}};a(document).on("mouseover mouseup mousedown click",function(a){return k?(a.stopPropagation(),a.preventDefault(),!1):void 0}),a.fn.mobiscroll=function(b){return u(this,a.mobiscroll.shorts),i(this,b,arguments)},a.mobiscroll=a.mobiscroll||{setDefaults:function(a){u(y,a)},presetShort:function(a){this.shorts[a]=function(b){return i(this,u(b,{preset:a}),arguments)}},has3d:r,shorts:{},presets:{},themes:{},i18n:{}},a.scroller=a.scroller||a.mobiscroll,a.fn.scroller=a.fn.scroller||a.fn.mobiscroll,a.mobiscroll.i18n.zh=a.extend({},{setText:"确定",cancelText:"取消",dateFormat:"yy-mm-dd",dateOrder:"yymmdd",dayNames:["周日","周一","周二","周三","周四","周五","周六"],dayNamesShort:["日","一","二","三","四","五","六"],dayText:"日",hourText:"时",minuteText:"分",monthNames:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthNamesShort:["一","二","三","四","五","六","七","八","九","十","十一","十二"],monthText:"月",secText:"秒",timeFormat:"HH:ii",timeWheels:"HHii",yearText:"年",nowText:"当前",dateText:"日",timeText:"时间",calendarText:"日历",wholeText:"Whole",fractionText:"Fraction",unitText:"Unit",labels:["Years","Months","Days","Hours","Minutes","Seconds",""],labelsShort:["Yrs","Mths","Days","Hrs","Mins","Secs",""],startText:"Start",stopText:"Stop",resetText:"Reset",lapText:"Lap",hideText:"Hide"})}(window.Zepto),function(a){var b=a.mobiscroll,c=new Date,d={dateFormat:"mm/dd/yy",dateOrder:"mmddy",timeWheels:"hhiiA",timeFormat:"hh:ii A",startYear:c.getFullYear()-100,endYear:c.getFullYear()+100,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortYearCutoff:"+10",monthText:"Month",dayText:"Day",yearText:"Year",hourText:"Hours",minuteText:"Minutes",secText:"Seconds",ampmText:"&nbsp;",nowText:"Now",showNow:!1,stepHour:1,stepMinute:1,stepSecond:1,separator:" "},e=function(c){function e(a,b,c){return void 0!==D[b]?+a[D[b]]:void 0!==c?c:M[E[b]]?M[E[b]]():E[b](M)}function f(a,b,c,d){a.push({values:c,keys:b,label:d})}function g(a,b){return Math.floor(a/b)*b}function h(a){var b=a.getHours();return b=K&&b>=12?b-12:b,g(b,N)}function i(a){return g(a.getMinutes(),O)}function j(a){return g(a.getSeconds(),P)}function k(a){return J&&a.getHours()>11?1:0}function l(a){var b=e(a,"h",0);return new Date(e(a,"y"),e(a,"m"),e(a,"d",1),e(a,"a")?b+12:b,e(a,"i",0),e(a,"s",0))}var m,n=a(this),o={};if(n.is("input")){switch(n.attr("type")){case"date":m="yy-mm-dd";break;case"datetime":m="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":m="yy-mm-ddTHH:ii:ss";break;case"month":m="yy-mm",o.dateOrder="mmyy";break;case"time":m="HH:ii:ss"}var p=n.attr("min"),q=n.attr("max");p&&(o.minDate=b.parseDate(m,p)),q&&(o.maxDate=b.parseDate(m,q))}var r,s,t,u,v,w,x,y=a.extend({},c.settings),z=a.extend(c.settings,d,o,y),A=0,B=[],C=[],D={},E={y:"getFullYear",m:"getMonth",d:"getDate",h:h,i:i,s:j,a:k},F=z.preset,G=z.dateOrder,H=z.timeWheels,I=G.match(/D/),J=H.match(/a/i),K=H.match(/h/),L="datetime"==F?z.dateFormat+z.separator+z.timeFormat:"time"==F?z.timeFormat:z.dateFormat,M=new Date,N=z.stepHour,O=z.stepMinute,P=z.stepSecond,Q=z.minDate||new Date(z.startYear,0,1),R=z.maxDate||new Date(z.endYear,11,31,23,59,59);if(m=m||L,F.match(/date/i)){for(a.each(["y","m","d"],function(a,b){r=G.search(new RegExp(b,"i")),r>-1&&C.push({o:r,v:b})}),C.sort(function(a,b){return a.o>b.o?1:-1}),a.each(C,function(a,b){D[b.v]=a}),v=[],s=0;3>s;s++)if(s==D.y){for(A++,u=[],t=[],w=Q.getFullYear(),x=R.getFullYear(),r=w;x>=r;r++)t.push(r),u.push(G.match(/yy/i)?r:(r+"").substr(2,2));f(v,t,u,z.yearText)}else if(s==D.m){for(A++,u=[],t=[],r=0;12>r;r++){var S=G.replace(/[dy]/gi,"").replace(/mm/,9>r?"0"+(r+1):r+1).replace(/m/,r+1);t.push(r),u.push(S.match(/MM/)?S.replace(/MM/,'<span class="dw-mon">'+z.monthNames[r]+"</span>"):S.replace(/M/,'<span class="dw-mon">'+z.monthNamesShort[r]+"</span>"))}f(v,t,u,z.monthText)}else if(s==D.d){for(A++,u=[],t=[],r=1;32>r;r++)t.push(r),u.push(G.match(/dd/i)&&10>r?"0"+r:r);f(v,t,u,z.dayText)}B.push(v)}if(F.match(/time/i)){for(C=[],a.each(["h","i","s","a"],function(a,b){a=H.search(new RegExp(b,"i")),a>-1&&C.push({o:a,v:b})}),C.sort(function(a,b){return a.o>b.o?1:-1}),a.each(C,function(a,b){D[b.v]=A+a}),v=[],s=A;A+4>s;s++)if(s==D.h){for(A++,u=[],t=[],r=0;(K?12:24)>r;r+=N)t.push(r),u.push(K&&0==r?12:H.match(/hh/i)&&10>r?"0"+r:r);f(v,t,u,z.hourText)}else if(s==D.i){for(A++,u=[],t=[],r=0;60>r;r+=O)t.push(r),u.push(H.match(/ii/)&&10>r?"0"+r:r);f(v,t,u,z.minuteText)}else if(s==D.s){for(A++,u=[],t=[],r=0;60>r;r+=P)t.push(r),u.push(H.match(/ss/)&&10>r?"0"+r:r);f(v,t,u,z.secText)}else if(s==D.a){A++;var T=H.match(/A/);f(v,[0,1],T?["AM","PM"]:["am","pm"],z.ampmText)}B.push(v)}return c.setDate=function(a,b,d,e){var f;for(f in D)c.temp[D[f]]=a[E[f]]?a[E[f]]():E[f](a);c.setValue(c.temp,b,d,e)},c.getDate=function(a){return l(a?c.temp:c.values)},{button3Text:z.showNow?z.nowText:void 0,button3:z.showNow?function(){c.setDate(new Date,!1,.3,!0)}:void 0,wheels:B,headerText:function(a){return b.formatDate(L,l(c.temp),z)},formatResult:function(a){return b.formatDate(m,l(a),z)},parseValue:function(a){var c,d=new Date,e=[];try{d=b.parseDate(m,a,z)}catch(f){}for(c in D)e[D[c]]=d[E[c]]?d[E[c]]():E[c](d);return e},validate:function(b,d){var f=c.temp,h={y:Q.getFullYear(),m:0,d:1,h:0,i:0,s:0,a:0},i={y:R.getFullYear(),m:11,d:31,h:g(K?11:23,N),i:g(59,O),s:g(59,P),a:1},j=!0,k=!0;a.each(["y","m","d","a","h","i","s"],function(c,d){if(void 0!==D[d]){var g,l,m=h[d],n=i[d],o=31,p=e(f,d),q=a(".dw-ul",b).eq(D[d]);if("d"==d&&(g=e(f,"y"),l=e(f,"m"),o=32-new Date(g,l,32).getDate(),n=o,I&&a(".dw-li",q).each(function(){var b=a(this),c=b.data("val"),d=new Date(g,l,c).getDay(),e=G.replace(/[my]/gi,"").replace(/dd/,10>c?"0"+c:c).replace(/d/,c);a(".dw-i",b).html(e.match(/DD/)?e.replace(/DD/,'<span class="dw-day">'+z.dayNames[d]+"</span>"):e.replace(/D/,'<span class="dw-day">'+z.dayNamesShort[d]+"</span>"))})),j&&Q&&(m=Q[E[d]]?Q[E[d]]():E[d](Q)),k&&R&&(n=R[E[d]]?R[E[d]]():E[d](R)),"y"!=d){var r=a(".dw-li",q).index(a('.dw-li[data-val="'+m+'"]',q)),s=a(".dw-li",q).index(a('.dw-li[data-val="'+n+'"]',q));a(".dw-li",q).removeClass("dw-v").slice(r,s+1).addClass("dw-v"),"d"==d&&a(".dw-li",q).removeClass("dw-h").slice(o).addClass("dw-h")}if(m>p&&(p=m),p>n&&(p=n),j&&(j=p==m),k&&(k=p==n),z.invalid&&"d"==d){var t=[];if(z.invalid.dates&&a.each(z.invalid.dates,function(a,b){b.getFullYear()==g&&b.getMonth()==l&&t.push(b.getDate()-1)}),z.invalid.daysOfWeek){var u,v=new Date(g,l,1).getDay();a.each(z.invalid.daysOfWeek,function(a,b){for(u=b-v;o>u;u+=7)u>=0&&t.push(u)})}z.invalid.daysOfMonth&&a.each(z.invalid.daysOfMonth,function(a,b){b=(b+"").split("/"),b[1]?b[0]-1==l&&t.push(b[1]-1):t.push(b[0]-1)}),a.each(t,function(b,c){a(".dw-li",q).eq(c).removeClass("dw-v")})}f[D[d]]=p}})}}};a.each(["date","time","datetime"],function(a,c){b.presets[c]=e,b.presetShort(c)}),b.formatDate=function(b,c,e){if(!c)return null;var f,g=a.extend({},d,e),h=function(a){for(var c=0;f+1<b.length&&b.charAt(f+1)==a;)c++,f++;return c},i=function(a,b,c){var d=""+b;if(h(a))for(;d.length<c;)d="0"+d;return d},j=function(a,b,c,d){return h(a)?d[b]:c[b]},k="",l=!1;for(f=0;f<b.length;f++)if(l)"'"!=b.charAt(f)||h("'")?k+=b.charAt(f):l=!1;else switch(b.charAt(f)){case"d":k+=i("d",c.getDate(),2);break;case"D":k+=j("D",c.getDay(),g.dayNamesShort,g.dayNames);break;case"o":k+=i("o",(c.getTime()-new Date(c.getFullYear(),0,0).getTime())/864e5,3);break;case"m":k+=i("m",c.getMonth()+1,2);break;case"M":k+=j("M",c.getMonth(),g.monthNamesShort,g.monthNames);break;case"y":k+=h("y")?c.getFullYear():(c.getYear()%100<10?"0":"")+c.getYear()%100;break;case"h":var m=c.getHours();k+=i("h",m>12?m-12:0==m?12:m,2);break;case"H":k+=i("H",c.getHours(),2);break;case"i":k+=i("i",c.getMinutes(),2);break;case"s":k+=i("s",c.getSeconds(),2);break;case"a":k+=c.getHours()>11?"pm":"am";break;case"A":k+=c.getHours()>11?"PM":"AM";break;case"'":h("'")?k+="'":l=!0;break;default:k+=b.charAt(f)}return k},b.parseDate=function(b,c,e){var f=new Date;if(!b||!c)return f;c="object"==typeof c?c.toString():c+"";var g,h=a.extend({},d,e),i=h.shortYearCutoff,j=f.getFullYear(),k=f.getMonth()+1,l=f.getDate(),m=-1,n=f.getHours(),o=f.getMinutes(),p=0,q=-1,r=!1,s=function(a){var c=g+1<b.length&&b.charAt(g+1)==a;return c&&g++,c},t=function(a){s(a);var b="@"==a?14:"!"==a?20:"y"==a?4:"o"==a?3:2,d=new RegExp("^\\d{1,"+b+"}"),e=c.substr(w).match(d);return e?(w+=e[0].length,parseInt(e[0],10)):0},u=function(a,b,d){var e,f=s(a)?d:b;for(e=0;e<f.length;e++)if(c.substr(w,f[e].length).toLowerCase()==f[e].toLowerCase())return w+=f[e].length,e+1;return 0},v=function(){w++},w=0;for(g=0;g<b.length;g++)if(r)"'"!=b.charAt(g)||s("'")?v():r=!1;else switch(b.charAt(g)){case"d":l=t("d");break;case"D":u("D",h.dayNamesShort,h.dayNames);break;case"o":m=t("o");break;case"m":k=t("m");break;case"M":k=u("M",h.monthNamesShort,h.monthNames);break;case"y":j=t("y");break;case"H":n=t("H");break;case"h":n=t("h");break;case"i":o=t("i");break;case"s":p=t("s");break;case"a":q=u("a",["am","pm"],["am","pm"])-1;break;case"A":q=u("A",["am","pm"],["am","pm"])-1;break;case"'":s("'")?v():r=!0;break;default:v()}if(100>j&&(j+=(new Date).getFullYear()-(new Date).getFullYear()%100+(j<=("string"!=typeof i?i:(new Date).getFullYear()%100+parseInt(i,10))?0:-100)),
m>-1)for(k=1,l=m;;){var x=32-new Date(j,k-1,32).getDate();if(x>=l)break;k++,l-=x}n=-1==q?n:q&&12>n?n+12:q||12!=n?n:0;var y=new Date(j,k-1,l,n,o,p);if(y.getFullYear()!=j||y.getMonth()+1!=k||y.getDate()!=l)throw"Invalid date";return y}}(window.Zepto),function(a){var b=function(a,b){this.init(a,b)};b.prototype={options:{id:"",min:null,max:null,minuteStep:5,callback:null,type:"date"},type:["date","time"],theme:{defaults:{dateOrder:"Mddyy",mode:"mixed",rows:5,width:70,height:40,showLabel:!1,useShortLabels:!0}},setting:{theme:"android-ics",mode:"scroller",display:"bottom",lang:"zh"},container:null,init:function(b,c){this.options=a.extend({},this.options,c),this.checkOptions(),a.mobiscroll.themes["android-ics"]=this.theme,a.mobiscroll.themes["android-ics light"]=this.theme,this.container=b,this.setLimit(),this.render(),this.bindEvent(),this.options.callback&&this.options.callback(this)},checkOptions:function(){-1==a.inArray(this.options.type,this.type)&&(this.options.type=this.type[0]),this.options.minuteStep=parseInt(this.options.minuteStep),this.options.minuteStep>60&&(this.options.minuteStep=60),this.options.minuteStep<1&&(this.options.minuteStep=1)},setLimit:function(){var a=this,b=a.options,c=/^([1|2]\w{3})-(1[0-2]|0?[1-9])-((30|31)|((1|2)[0-9])|(0?[1-9]))$/,d=/^((20|21|22|23)|[0-1][0-9]):([0-5][0-9])$/,e=new Date;if(b.min){var f;if("time"==b.type){if(d.test(b.min)){var g=b.min.split(":");f=new Date(e.getFullYear(),e.getMonth(),e.getDate(),g[0],g[1]),a.setting.minDate=f}}else if(c.test(b.min)){var h=b.min.split("-");f=new Date(1*h[0],h[1]-1,1*h[2]),a.setting.minDate=f}}if(b.max){var i;if("time"==b.type){if(d.test(b.max)){var g=b.max.split(":");i=new Date(e.getFullYear(),e.getMonth(),e.getDate(),g[0],g[1]),a.setting.maxDate=i}}else if(c.test(b.max)){var h=b.max.split("-");i=new Date(1*h[0],h[1]-1,1*h[2]),a.setting.maxDate=i}}},getValue:function(){return this.container.val()},setValue:function(a){this.container.val(a)},bindEvent:function(){var a=this,b=a.options;a.container.change(function(){b.onChange&&b.onChange(a.getValue())})},render:function(){var a=this,b=a.options;a.setting.preset=b.type,a.setting.stepMinute=b.minuteStep,a.setting.exClass="i_mui_"+b.skin,a.container.scroller("destroy").scroller(a.setting)}},a.fn.datepicker=function(c){return this.each(function(){a(this).data("Datepiker",new b(a(this),c))})}}(window.Zepto),!function($){function Plugin(a,b){var c=new Formcheck;return c.validate(this,a,b)}var ns="smart",Formcheck=function(){};Formcheck.prototype={validate:function(a,b,c){return isNaN(b)?this._text(a,b,c):this._checkbox(a,b,c)},_text:function(that,pattern,errorMessage){var value=$(that).val(),$parentDiv=$(that).parent("div");switch(pattern){case"mobile":pattern=/^(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/;break;case"email":pattern=/^[_.0-9a-z-]+@([0-9a-z][0-9a-z-]+.)+[a-z]{2,3}$/;break;default:pattern=eval(pattern)}return $parentDiv.next("."+ns+"-form-error-item").remove(),!value.match(pattern)&&errorMessage&&$parentDiv.after('<div class="'+ns+'-form-error-item">'+errorMessage+"</div>"),!!value.match(pattern)},_checkbox:function(a,b,c){var d=0,e=$(a).last().parent("div");return $(a).each(function(){$(this).attr("checked")&&(d+=1)}),e.next("."+ns+"-form-error-checkbox-item").remove(),b>d&&c?(e.after('<div class="'+ns+'-form-error-checkbox-item">'+c+"</div>"),!1):!0}},$.fn.formcheck=Plugin}(window.Zepto),!function(a){function b(a){var b=new d(a);b.build()}var c="smart",d=function(a){this.opacity=a.opacity?a.opacity:1,this.distance=a.distance?parseInt(a.distance):200};d.prototype={build:function(){a('<div class="'+c+'-gotop"><i class="icon '+c+'-icon">&#xe69e;</i></div>').appendTo("body"),this._bindCss(),this._bindEvent()},_bindCss:function(){a("."+c+"-gotop").css({opacity:this.opacity})},_bindEvent:function(){var b=this;a(window).scroll(function(){var d=document.documentElement.scrollTop+document.body.scrollTop;d>b.distance?a("."+c+"-gotop").show():a("."+c+"-gotop").hide()}),a("."+c+"-gotop").on("click",function(){window.scroll(0,0)})}},a.gotop=b}(window.Zepto),!function(a){function b(a){var b=new c(a);b.build(this)}var c=function(a){this.data=a};c.prototype={build:function(b){var c=this,d=a(b).find("select"),e=d.size();this._resetSelect(d.eq(0)),"Object"===this._type(this.data)?this._renderSelect01(this.data,d.eq(0),1):"Array"===this._type(this.data)&&this._renderSelect02(this.data,d.eq(0),null),d.each(function(b,f){return b+1==e?!1:void a(f).change(function(){for(var g=b+1;e>g;g++)c._resetSelect(d.eq(g));if(a(f).val())if("Object"===c._type(c.data)){for(var h=b+2==e?2:1,i=c.data,g=0;b+1>g;g++)i=i[d.eq(g).val()];c._renderSelect01(i,d.eq(b+1),h)}else"Array"===c._type(c.data)&&c._renderSelect02(c.data,d.eq(b+1),a(f).val())})})},_renderSelect01:function(b,c,d){a.each(b,function(a,b){switch(d){case 1:c.append("<option value='"+a+"'>"+a+"</option>");break;case 2:c.append("<option value='"+b+"'>"+b+"</option>")}})},_renderSelect02:function(b,c,d){a.each(b,function(a,b){b.parent_id==d&&c.append("<option value='"+b.id+"'>"+b.name+"</option>")})},_resetSelect:function(a){a.empty(),a.append("<option value=''></option>")},_type:function(a){return"[object Object]"===Object.prototype.toString.call(a)?"Object":"[object Array]"===Object.prototype.toString.call(a)?"Array":null}},a.fn.linkage=b}(window.Zepto),!function(a){function b(){var a=new c;a.bindEvent(this)}var c=function(){};c.prototype={bindEvent:function(b){a(b).find(".smart-list-flex-item").on("click",function(){var c=a(this).next("div");a(b).find("i").html("&#xe6a3;"),"none"==a(c).css("display")?(a(c).show(),a(this).find("i").html("&#xe661;")):(a(c).hide(),a(this).find("i").html("&#xe6a3;")),a(b).find("div").not(c).hide()})}},a.fn.list=b}(window.Zepto),!function(a){function b(b){var c=!1;if(a.isArray(this))var g=this;else{var g=a(d(a.extend({},e,"object"==typeof b&&b))).appendTo("body");c=!0}return g.each(function(){var d=a(this),g=d.data("smart.loading"),h=a.extend({},e,"object"==typeof b&&b);g||d.data("smart.loading",g=new f(this,h,c)),"string"==typeof b&&g[b]()})}var c='<div class="smart-loading-overlay"><div class="smart-loading"><div class="smart-loading-icon"><i class="icon smart-icon">&#xe64f;</i><div>{{content}}</div></div></div></div>',d=template.compile(c),e={title:"",content:"正在加载..."},f=function(b,c,d){this.option=c,this.element=a(b),this._isFromTpl=d,this._bindEvent(),this.toggle()};f.prototype={_bindEvent:function(){var a=this;a.element.on("click",function(){a.hide()}),this.option.time&&setTimeout(function(){a.hide()},this.option.time)},toggle:function(){this.element.hasClass("show")?this.hide():this.show()},show:function(){var b=this;b.element.trigger(a.Event("loading:show")),b.element.addClass("show")},hide:function(){var b=this;b.element.trigger(a.Event("loading:hide")),b.element.removeClass("show"),b._isFromTpl&&b.element.remove()}},a.fn.loading=a.loading=b}(window.Zepto),!function(a){function b(b){var c=!1;if(a.isArray(this))var g=this;else{var g=a(d(a.extend({},e,"object"==typeof b&&b))).appendTo("body");c=!0}return g.each(function(){var d=a(this),g=d.data("smart.modal"),h=a.extend({},e,"object"==typeof b&&b);g||d.data("smart.modal",g=new f(this,h,c)),"string"==typeof b&&g[b]()})}var c='<div class="smart-modal-overlay"><div class="smart-modal">{{if (title)}}<div class="smart-modal-head">{{title}}</div><div class="smart-modal-body">{{content}}</div>{{else}}<div class="smart-modal-body center">{{content}}</div>{{/if}}<div class="smart-modal-foot">{{each button as value}}<button type="button" data-type="{{value.type}}">{{value.content}}</button>{{/each}}</div></div></div>',d=template.compile(c),e={content:"欢迎使用城市服务",button:[{type:"success",content:"确认"}]},f=function(b,c,d){this.option=c,this.element=a(b),this._isFromTpl=d,this.button=a(b).find("button"),this._bindEvent(),this.toggle()};f.prototype={_bindEvent:function(){var b=this;b.button.on("click",function(){var c=a(this).data("type");"cancel"==c?(b.element.trigger(a.Event("modal:close")),b.hide()):"success"==c&&(b.element.trigger(a.Event("modal:success")),b.hide())})},toggle:function(){this.element.hasClass("show")?this.hide():this.show()},show:function(){var b=this;b.element.trigger(a.Event("modal:show")),b.element.addClass("show")},hide:function(){var b=this;b.element.trigger(a.Event("modal:hide")),b.element.removeClass("show"),b._isFromTpl&&b.element.remove()}},a.fn.modal=a.modal=b}(window.Zepto),!function(a){function b(){var a=new d(this);return a}var c="smart",d=function(a){this.obj=a};d.prototype={build:function(b,c){var d=this;this.min=b.min?b.min:0,this.max=b.max?b.max:100,this.span=b.span?b.span:1,a.each(this.obj,function(){d._draw(this),d._bindEvent(this)})},val:function(b){return b||0===b?void a.each(this.obj,function(){var d=parseInt(a(this).find("."+c+"-numberinput").attr("min")),e=parseInt(a(this).find("."+c+"-numberinput").attr("max")),f=parseInt(a(this).find("."+c+"-numberinput").attr("span")),g=a(this).find(".minus"),h=a(this).find(".plus"),i=a(this).find(".value");a(i).val(b),b>d&&a(g).css({"background-color":"#04be02"}),b+f>e&&a(h).css({"background-color":"#ddd"})}):parseInt(a(this.obj).find(".value").val())},_draw:function(b){var d='<div class="'+c+'-numberinput" min="'+this.min+'" max="'+this.max+'" span="'+this.span+'"><div class="minus">-</div><div class="plus">+</div><input type="text" class="value" disabled="true" value="0" /></div>';a(b).html(d)},_bindEvent:function(b){var c=this,d=a(b).find(".minus"),e=a(b).find(".plus"),f=a(b).find(".value");a(d).on("click",function(){var g=parseInt(a(f).val());return g-=c.span,g<c.max&&a(e).css({"background-color":"#04be02"}),g<c.min?!1:(g-c.span<c.min?(a(d).css({"background-color":"#ddd"}),a(f).val(g)):a(f).val(g),void a(b).trigger(a.Event("numberinput:change"),g))}),a(e).on("click",function(){var g=parseInt(a(f).val());return g+=c.span,g>c.min&&a(d).css({"background-color":"#04be02"}),g>c.max?!1:(g+c.span>c.max?(a(e).css({"background-color":"#ddd"}),a(f).val(g)):a(f).val(g),void a(b).trigger(a.Event("numberinput:change"),g))})}},a.fn.numberinput=b}(window.Zepto),!function(a){function b(){var a=new d;a.build(this)}var c="smart",d=function(){};d.prototype={build:function(b){var d=this,e=0,f=a("."+c+"-nav-top").height(),g=[],h=[],i=/^.*-nav-top.*$/;i.test(a(b).attr("class"))&&(a("body").css("padding-top",f),e=-1*f),a(b).find(".item").on("click",function(){var c=this.id,f="#item_"+c;d._changeChosen(b,this),a("html, body").scrollTop(a(f).offset().top+e)}),a(".item").each(function(){g.push(this.id)});for(var j=0;j<g.length;j++){var k="#item_"+g[j];h.push(a(k).offset().top+e)}for(var j=0;j<h.length;j++)0==j?a(window).on("scroll",{key:j},function(c){var e=document.documentElement.scrollTop+document.body.scrollTop;e==h[c.data.key]&&d._changeChosen(b,a("#"+g[c.data.key]))}):j==h.length-1?a(window).on("scroll",{key:j},function(c){var e=document.documentElement.scrollTop+document.body.scrollTop;e>h[c.data.key-1]&&d._changeChosen(b,a("#"+g[c.data.key]))}):a(window).on("scroll",{key:j},function(c){var e=document.documentElement.scrollTop+document.body.scrollTop;e>h[c.data.key-1]&&e<=h[c.data.key]&&d._changeChosen(b,a("#"+g[c.data.key]))})},_changeChosen:function(b,c){a(b).find(".item").removeClass("chosen"),a(c).addClass("chosen")}},a.fn.scrollnav=b}(window.Zepto),!function(a){function b(a){var b=new d;b.init(a)}var c="smart",d=function(){};d.prototype={init:function(b){var d='<div class="smart-share"><div class="text"></div><div class="smart-icon-arrow"></div></div>';a("body").append(d),a("."+c+"-share").find(".text").text(b),a("."+c+"-share").on("click",function(){a("."+c+"-share").remove()})}},a.share=b}(window.Zepto),!function(a){function b(b,c){"use strict";function d(){r=v.children,u=r.length,r.length<2&&(c.continuous=!1),q.transitions&&c.continuous&&r.length<3&&(v.appendChild(r[0].cloneNode(!0)),v.appendChild(v.children[1].cloneNode(!0)),r=v.children),s=new Array(r.length),t=b.getBoundingClientRect().width||b.offsetWidth,v.style.width=r.length*t+"px";for(var a=r.length;a--;){var d=r[a];d.style.width=t+"px",d.setAttribute("data-index",a),q.transitions&&(d.style.left=a*-t+"px",i(a,w>a?-t:a>w?t:0,0))}c.continuous&&q.transitions&&(i(g(w-1),-t,0),i(g(w+1),t,0)),q.transitions||(v.style.left=w*-t+"px"),b.style.visibility="visible",n()}function e(){c.continuous?h(w-1):w&&h(w-1)}function f(){c.continuous?h(w+1):w<r.length-1&&h(w+1)}function g(a){return(r.length+a%r.length)%r.length}function h(a,b){if(w!=a){if(q.transitions){var d=Math.abs(w-a)/(w-a);if(c.continuous){var e=d;d=-s[g(a)]/t,d!==e&&(a=-d*r.length+a)}for(var f=Math.abs(w-a)-1;f--;)i(g((a>w?a:w)-f-1),t*d,0);a=g(a),i(w,t*d,b||x),i(a,0,b||x),c.continuous&&i(g(a-d),-(t*d),0)}else a=g(a),k(w*-t,a*-t,b||x);w=a,p(c.callback&&c.callback(w,r[w]))}}function i(a,b,c){j(a,b,c),s[a]=b}function j(a,b,c){var d=r[a],e=d&&d.style;e&&(e.webkitTransitionDuration=e.MozTransitionDuration=e.msTransitionDuration=e.OTransitionDuration=e.transitionDuration=c+"ms",e.webkitTransform="translate("+b+"px,0)translateZ(0)",e.msTransform=e.MozTransform=e.OTransform="translateX("+b+"px)")}function k(a,b,d){if(!d)return void(v.style.left=b+"px");var e=+new Date,f=setInterval(function(){var g=+new Date-e;return g>d?(v.style.left=b+"px",A&&l(),c.transitionEnd&&c.transitionEnd.call(event,w,r[w]),void clearInterval(f)):void(v.style.left=(b-a)*(Math.floor(g/d*100)/100)+a+"px")},4)}function l(){y=setTimeout(f,A)}function m(){clearTimeout(y)}function n(c){a(b).find(".smart-swipe-pagination").remove(),c=c||0;for(var d="<ol class='smart-swipe-pagination'>",e=0;u>e;e++)d+="<li><a "+(c==e?"class='active'":"")+">"+e+"</a></li>";d+="</ol>",a(b).append(d)}var o=function(){},p=function(a){setTimeout(a||o,0)},q={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(a){var b=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var c in b)if(void 0!==a.style[b[c]])return!0;return!1}(document.createElement("swipe"))};if(b){var r,s,t,u,v=b.children[0];c=c||{};var w=parseInt(c.startSlide,10)||0,x=c.speed||300;c.continuous=void 0!==c.continuous?c.continuous:!0;var y,z,A=c.auto||0,B={},C={},D={handleEvent:function(a){switch(a.type){case"touchstart":this.start(a);break;case"touchmove":this.move(a);break;case"touchend":p(this.end(a));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":p(this.transitionEnd(a));break;case"resize":p(d)}c.stopPropagation&&a.stopPropagation()},start:function(a){var b=a.touches[0];B={x:b.pageX,y:b.pageY,time:+new Date},z=void 0,C={},v.addEventListener("touchmove",this,!1),v.addEventListener("touchend",this,!1)},move:function(a){if(!(a.touches.length>1||a.scale&&1!==a.scale)){c.disableScroll&&a.preventDefault();var b=a.touches[0];C={x:b.pageX-B.x,y:b.pageY-B.y},"undefined"==typeof z&&(z=!!(z||Math.abs(C.x)<Math.abs(C.y))),z||(a.preventDefault(),m(),c.continuous?(j(g(w-1),C.x+s[g(w-1)],0),j(w,C.x+s[w],0),j(g(w+1),C.x+s[g(w+1)],0)):(C.x=C.x/(!w&&C.x>0||w==r.length-1&&C.x<0?Math.abs(C.x)/t+1:1),j(w-1,C.x+s[w-1],0),j(w,C.x+s[w],0),j(w+1,C.x+s[w+1],0)))}},end:function(a){var b=+new Date-B.time,d=Number(b)<250&&Math.abs(C.x)>20||Math.abs(C.x)>t/2,e=!w&&C.x>0||w==r.length-1&&C.x<0;c.continuous&&(e=!1);var f=C.x<0;z||(d&&!e?(f?(c.continuous?(i(g(w-1),-t,0),i(g(w+2),t,0)):i(w-1,-t,0),i(w,s[w]-t,x),i(g(w+1),s[g(w+1)]-t,x),w=g(w+1)):(c.continuous?(i(g(w+1),t,0),i(g(w-2),-t,0)):i(w+1,t,0),i(w,s[w]+t,x),i(g(w-1),s[g(w-1)]+t,x),w=g(w-1)),c.callback&&c.callback(w,r[w])):c.continuous?(i(g(w-1),-t,x),i(w,0,x),i(g(w+1),t,x)):(i(w-1,-t,x),i(w,0,x),i(w+1,t,x))),v.removeEventListener("touchmove",D,!1),v.removeEventListener("touchend",D,!1)},transitionEnd:function(a){parseInt(a.target.getAttribute("data-index"),10)==w&&(A&&l(),c.transitionEnd&&c.transitionEnd.call(a,w,r[w]),n(w))}};return d(),A&&l(),q.addEventListener?(q.touch&&v.addEventListener("touchstart",D,!1),q.transitions&&(v.addEventListener("webkitTransitionEnd",D,!1),v.addEventListener("msTransitionEnd",D,!1),v.addEventListener("oTransitionEnd",D,!1),v.addEventListener("otransitionend",D,!1),v.addEventListener("transitionend",D,!1)),window.addEventListener("resize",D,!1)):window.onresize=function(){d()},{setup:function(){d()},slide:function(a,b){m(),h(a,b)},prev:function(){m(),e()},next:function(){m(),f()},stop:function(){m()},getPos:function(){return w},getNumSlides:function(){return u},kill:function(){m(),v.style.width="",v.style.left="";for(var a=r.length;a--;){var b=r[a];b.style.width="",b.style.left="",q.transitions&&j(a,0,0)}q.addEventListener?(v.removeEventListener("touchstart",D,!1),v.removeEventListener("webkitTransitionEnd",D,!1),v.removeEventListener("msTransitionEnd",D,!1),v.removeEventListener("oTransitionEnd",D,!1),v.removeEventListener("otransitionend",D,!1),v.removeEventListener("transitionend",D,!1),window.removeEventListener("resize",D,!1)):window.onresize=null}}}}a.fn.swipe=function(c){return this.each(function(){a(this).data("Swipe",new b(a(this)[0],c))})}}(window.jQuery||window.Zepto),!function(a){function b(){var a=new c;a.bindEvent(this)}var c=function(){};c.prototype={bindEvent:function(b){a(b).find(".title").find(".item").on("click",function(){a(b).find(".title").find(".item").removeClass("chosen"),a(this).addClass("chosen"),a(b).find(".content").find(".item").removeClass("chosen"),a(b).find(".content").find(".item").eq(a(this).index()).addClass("chosen")})}},a.fn.tab=b}(window.Zepto),!function(a){function b(b){var c=!1;if(a.isArray(this))var g=this;else{var g=a(d(e)).appendTo("body");c=!0}return g.each(function(){var d=a(this),e=d.data("smart.ticket"),g=b;e||d.data("smart.ticket",e=new f(this,g,c)),"string"==typeof b&&e[b]()})}var c='<div class="smart-loading-overlay"><div class="smart-loading"><div class="smart-loading-icon"><i class="icon smart-icon">&#xe64f;</i><div>{{content}}</div></div></div></div>',d=template.compile(c),e={retry:[0,1,3,5],times:0,content:"正在加载...",remote:"http://beta.city.act.qq.com/api/ticket"},f=function(b,c,d){this.option=c,this.element=a(b),this._isFromTpl=d,this.show(),this.getTicket()};f.prototype={getTicket:function(){var b=this;if(!this.option.api_key)throw"api_key invalid";a.ajax({type:"get",dataType:"jsonp",url:e.remote,data:{api_key:this.option.api_key,format:"jsonp"},success:function(a){if(a.data.visit)b.ajax();else{if(!e.retry[time])return;setTimeout(function(){b.getTicket()},1e3*e.retry[time])}},error:function(){throw"get ticket error"}})},ajax:function(){var b=this;this.option.complete=function(a,c){b.hide(),b.option.complete(a,c)},a.ajax(b.option)},show:function(){var b=this;b.element.trigger(a.Event("ticket:show")),b.element.addClass("show")},hide:function(){var b=this;b.element.trigger(a.Event("ticket:hide")),b.element.removeClass("show"),b._isFromTpl&&b.element.remove()}},a.ticketAjax=b}(window.Zepto),!function(a){function b(b){var c=!1;if(a.isArray(this))var g=this;else{var g=a(d(a.extend({},e,"object"==typeof b&&b))).appendTo("body");c=!0}return g.each(function(){var d=a(this),g=d.data("smart.tips"),h=a.extend({},e,"object"==typeof b&&b);g||d.data("smart.tips",g=new f(this,h,c)),"string"==typeof b&&g[b]()})}var c='<div class="smart-tips" style="top:{{top}}px"><div class="smart-tips-content smart-tips-{{type}}">{{content}}</div></div>',d=template.compile(c),e={content:"欢迎使用SmartUI",type:"info",stayTime:2e3,top:0},f=function(b,c,d){var e=this;this.option=c,this.element=a(b),this._isFromTpl=d,this.elementHeight=this.element.height(),this.element.css({"-webkit-transform":"translateY(-"+this.elementHeight+"px)"}),setTimeout(function(){e.element.css({"-webkit-transition":"all .5s"}),e.show()},20)};f.prototype={show:function(){var b=this;b.element.trigger(a.Event("tips:show")),this.element.css({"-webkit-transform":"translateY(0px)"}),b.option.stayTime>0&&setTimeout(function(){b.hide()},b.option.stayTime)},hide:function(){var b=this;b.element.trigger(a.Event("tips:hide")),this.element.css({"-webkit-transform":"translateY(-"+this.elementHeight+"px)"}),setTimeout(function(){b._isFromTpl&&b.element.remove()},500)}},a.fn.tips=a.tips=b}(window.Zepto),!function(a){function b(a){var b=new c;b.init(a)}var c=function(){};c.prototype={init:function(a){var b=a.id,c=a.vid,d=a.width,e=a.height,f=a.type,g=a.autoplay;switch(f){case 1:this._setDemandVideo(b,c,d,e,g);break;case 2:this._setLiveVideo(b,c,d,e,g)}},_setDemandVideo:function(a,b,c,d,e){var f=new tvp.VideoInfo;f.setVid(b);var g=new tvp.Player;g.create({width:c,height:d,video:f,playerType:"html5",isHtml5ShowLoadingAdOnStart:!1,isHtml5ShowLoadingAdOnChange:!1,modId:a,autoplay:e})},_setLiveVideo:function(a,b,c,d,e){var f=new tvp.VideoInfo;f.setChannelId(b);var g=new tvp.Player;g.create({width:c,height:d,type:1,video:f,playerType:"html5",isHtml5ShowLoadingAdOnStart:!1,isHtml5ShowLoadingAdOnChange:!1,modId:a,autoplay:e})}},a.video=b}(window.Zepto);